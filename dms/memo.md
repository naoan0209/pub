# 考えなければいけないこと

## 参考

非常に参考になるので必ず読む
`https://blog.father.gedow.net/2023/10/23/aurora-migration-tips/#note03`

AWS公式の動画
`https://www.youtube.com/watch?v=k_pnnwedtwU`

## そもそもDMS以外の選択肢があるか

- DMSは有力だが、参考リンクのとおり、DMS以外にもバイナリログレプリケーションやストアドプロシージャを使った手法を検討してほしい
- 現在のソースバージョン(8.0.13)からターゲットバージョン（8.0.28）で利用できる機能である必要がある

## DMS制約事項

`https://docs.aws.amazon.com/ja_jp/dms/latest/userguide/CHAP_Source.MySQL.html#CHAP_Source.MySQL.Limitations`

- あらゆる制約事項を洗い出すこと
- とくに型については注意事項が多い、問題が起こる可能性が高い
- 軽く見たところ、すべてが怪しいがとくに
  - パーティション作成のDDL
  - インデックス、外部キー、カスケード更新、または削除が移行されない
- ここでもバージョンについて必ず考慮すること

## 現環境の考慮

- グループレプリケーションを組んでいる環境でリードレプリカをレプリケーションのソースとして利用したいが、これがそもそも可能なのか
- どのレプリケーション手法にせよ、必ず考慮すること

## バージョンの考慮

- 何をするにも必ずバージョンを考慮した想定をすること

## 手順

- S-in時にオンプレ環境でバッチ処理が動いていた場合を考慮する
